APP_ENV=prod
STRICT_CORS=true
CORS_ORIGINS=https://app.example.com
TRUST_PROXY_HEADERS=true
TRUSTED_PROXY_IPS=
TRUSTED_PROXY_CIDRS=

DATABASE_URL=postgresql+psycopg://clean_user:REPLACE_ME@postgres:5432/cleaning
REDIS_URL=redis://redis:6379/0
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_CLEANUP_MINUTES=10

# Admin portal credentials (at least one pair required in production)
OWNER_BASIC_USERNAME=admin
OWNER_BASIC_PASSWORD=REPLACE_ME
ADMIN_BASIC_USERNAME=
ADMIN_BASIC_PASSWORD=
DISPATCHER_BASIC_USERNAME=
DISPATCHER_BASIC_PASSWORD=
ACCOUNTANT_BASIC_USERNAME=
ACCOUNTANT_BASIC_PASSWORD=
VIEWER_BASIC_USERNAME=
VIEWER_BASIC_PASSWORD=

# Client/worker portals
CLIENT_PORTAL_SECRET=REPLACE_ME_CLIENT
WORKER_PORTAL_SECRET=REPLACE_ME_WORKER
CLIENT_PORTAL_TOKEN_TTL_MINUTES=30
CLIENT_PORTAL_BASE_URL=https://app.example.com
WORKER_TEAM_ID=1

# Email adapter (choose one: sendgrid or smtp)
EMAIL_MODE=sendgrid
EMAIL_FROM=no-reply@example.com
EMAIL_FROM_NAME=Cleaning Bot
SENDGRID_API_KEY=REPLACE_ME
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# Stripe
STRIPE_SECRET_KEY=sk_live_REPLACE_ME
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_ME
STRIPE_SUCCESS_URL=https://app.example.com/deposit-success?session_id={CHECKOUT_SESSION_ID}
STRIPE_CANCEL_URL=https://app.example.com/deposit-cancelled
STRIPE_INVOICE_SUCCESS_URL=https://app.example.com/invoice-success?session_id={CHECKOUT_SESSION_ID}
STRIPE_INVOICE_CANCEL_URL=https://app.example.com/invoice-cancelled

# CAPTCHA / Cloudflare Turnstile
CAPTCHA_MODE=turnstile
TURNSTILE_SECRET_KEY=REPLACE_ME

# Public URL for emailed links
PUBLIC_BASE_URL=https://app.example.com

# Upload storage
ORDER_UPLOAD_ROOT=/srv/clean/var/uploads/orders
ORDER_PHOTO_ALLOWED_MIMES=image/jpeg,image/png,image/webp
ORDER_PHOTO_MAX_BYTES=10485760

# Webhook export controls
EXPORT_MODE=webhook
EXPORT_WEBHOOK_URL=https://hooks.example.com/clean
EXPORT_WEBHOOK_TIMEOUT_SECONDS=5
EXPORT_WEBHOOK_MAX_RETRIES=3
EXPORT_WEBHOOK_BACKOFF_SECONDS=1.0
EXPORT_WEBHOOK_ALLOWED_HOSTS=https://hooks.example.com
EXPORT_WEBHOOK_ALLOW_HTTP=false
EXPORT_WEBHOOK_BLOCK_PRIVATE_IPS=true

# Feature flags
DEPOSITS_ENABLED=true
METRICS_ENABLED=true
RETENTION_CHAT_DAYS=30
RETENTION_LEAD_DAYS=365
RETENTION_ENABLE_LEADS=false
